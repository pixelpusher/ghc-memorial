
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- TODO: put icon here -->
    <!-- <link rel="icon" href="../../favicon.ico"> -->

    <title>Greenwich Memorial Project</title>

    <!-- Bootstrap core CSS -->

  	<!-- Latest compiled and minified CSS -->
  	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

  	<!-- Optional theme -->
  	<!--<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">-->

    <!-- Custom styles for this template -->
    <link href="css/main.css" rel="stylesheet">

      
      
      
    <script type="text/javascript">
    	window.addEventListener('load', function ()
    	{
            // Compile the Handlebars template for HR leaders.
            var PeopleTemplate = Handlebars.compile($('#people-template').html());  
            
    		// Define spreadsheet URL.
			var mySpreadsheet = 'https://docs.google.com/spreadsheets/d/11yts8Wow7k0wQsY0WCP8dA0e9GDyPA-irHMLlvl0vuQ/pubhtml?gid=1360867631&single=true', 'https://docs.google.com/spreadsheets/d/1rpDJrgFF8pP5VeL46-8aDESiokzSb1wwTanxcA60RaU/pubhtml?gid=1426342879&single=true', 'https://docs.google.com/spreadsheets/d/1CXVLyKhRwoG9ch37U9DAlZ79Lb36JizeEXOSw0UN5d0/pubhtml?gid=844286021&single=true';
			console.log('loading');
			// Load an entire sheet.
			$('#people').sheetrock({
				url: mySpreadsheet,
                // you can select for a single ID:
				//sql: "select A,B,D,E where A = '0' order by B asc",
                
                // or, search by name that starts with a string:
                //sql: "select %id%, %surname%, %forenames%, %cemeterymemorial% where %surname% starts with 'A' order by %surname% asc",
                
               //sql: "select %id%, %surname%, %forenames% order by %id% asc",
                
                
                // here's another that searches if a name contains a string of characters 'bob':
                sql: 'select A,B,D where upper(B) contains upper("Wil") or upper(D) contains upper("Wil") order by B asc',
                
  				chunkSize: 25, // 300 rows
                headersOff: true,
                rowHandler: PeopleTemplate,
  				loading: $('#loading')
			});
    	});
    </script>
      
      
      
      
      
      
  </head>

  <body>


    <div class="container">  
        
        
        
        
        
        <div id="headerBar">
            <div id="project-title">
              <h2>Family Stories of the Great War</h2>
            </div>
        </div>
      
        <div class="searchImg">
         <!--<img src="images/Welcome-page.png"> -->
            <div class="searchImgOverlay">
                <h1>Search</h1>
            </div>  
        </div>
        
        
      <a href="index.html"> <img src="images/Ribbon-Logo.png" id="rghtLogo"/></a>
        
        <hr id="desLine" size="30" width="98%">
        
        
        
        <div class="row">
        <div class="col-md-6  col-md-push-6">
            
           <div id="searchHeader">
               <div id="searchHeadBar">
                    <h2>Search</h2>
               </div>
               
            <form action="" id="searchForm">
                <fieldset>
                    <input type="text" id="search" name="search" placeholder=""/>
                    <!-- <input type="submit" id="search-submit" value="Search" /> -->
                </fieldset>
            </form>
           </div> <!--searchHeader!-->
                     
        </div> <!--col-md-6 col-md-push-6!-->
      
        

        <div class="col-md-6  col-md-pull-6">    
            
          <div id="results">   
              <div id="resultsBar"> 
                  <h2>Results</h2>
              </div>
              
              
		<div id="loading"><h4>Loading...</h4></div>
		
        <table id="people">
        <thead>
        <tr>
            <th>Surname, Forename</th>
            <th>Cemetery</th>
        </tr>
        </thead>
        <tbody>
          <script id="people-template" type="text/x-handlebars-template">
            <tr>
                <td>
              <a href="?id={{cells.id}}"><strong>{{cells.surname}}, {{cells.forenames}}</strong></a></td>
                <td>{{cells.cemeterymemorial}}</td>
            </tr>
          </script>
        </tbody>
        </table>



              
              
          </div> <!--results!-->

        
        

     
                <!-- <div class="row search-row">
        <div class="col-md-6">
          <form action="" id="search-form">
            <fieldset>
                <input type="text" id="search" name="search" />
                <input type="submit" id="search-submit" value="" />
            </fieldset>
          </form>
        </div>
      </div> !-->
        
        
        
    
            
          <div id="viewMemorial">   
              <div id="memorialBar"> 
                  <h2>View Memorials</h2>
              </div>
          </div> <!--viewMemorial!-->

           <a href="charlton.html">
           <div class="charlton">
               <div class="charltonOverlay">
                   <h2>Charlton, St Luke's</h2>
               </div>
           </div>
            </a>
           
      
           <a href="eltham.html">
           <div class="eltham">
               <div class="elthamOverlay">
                   <h2>Eltham, St John's</h2>
               </div>
           </div>
           </a>
           
           
           <a href="woolwich.html">
           <div class="woolwich">
               <div class="woolwichOverlay">
                   <h2>Woolwich Arsenal</h2>
               </div>
           </div>
           </a>
           
           
       </div> <!--col-md-6!-->
      
        
        </div> <!--row search!-->

        
        
        
        
      <div class="footer">

          <div id="footerContent"> 
         <!-- <div id="royalGreenwich"> -->
            <img id="heritageTrust" src="images/footerLogo.png" alt="Royal Greenwich Heritage Trust"/>  
         <!-- </div> -->
 
             
             
         <!--  <div id="lotteryFund"> -->
            <img id="lotteryFund" src="images/heritage-lottery-fund.png" alt="Supported by National Lottery Fund"/>
         <!--  </div>  -->
             
             
                  <!-- <div id="royalGreenwich"> -->
            <img id="royalGreenwich" src="images/royalGreenwich.png" alt="Royal Borough of Greenwich"/>  
         <!-- </div> -->
              
        <p> All content &copy; 2014 Royal Greenwich Heritage Trust </p>
          </div>
      </div>

        
        
        
        
        
    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
	
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
  	<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  	
      
      <!-- Include all compiled plugins (below), or include individual files as needed -->

      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->




         <script type="text/javascript">
      
    var defaultText = "Search by Name, Memorial, Personal info";
	var searchBox = document.getElementById("search");
 
	//default text after load
	searchBox.value = defaultText;
 
	//on focus behaviour
	searchBox.onfocus = function() {
		if (this.value == defaultText) {//clear text field
			this.value = '';
		}
	}
 
	//on blur behaviour
	searchBox.onblur = function() {
		if (this.value == "") {//restore default text
			this.value = defaultText;
		}
	}          
      </script>  




    

    <!-- Load jQuery from CloudFlare’s CDN. -->
	<script src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.1.2/handlebars.min.js"></script>

    <!-- Load jQuery from CloudFlare’s CDN. -->
	<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

	<!-- sheetrock for google spreadsheets API -->
    <!--<script src="http://chriszarate.github.io/sheetrock/src/jquery.sheetrock.min.js"></script>!-->

        <script src="./js/jquery.sheetrock.min.js"></script> 

         <script>
    Handlebars.registerHelper("formatDate", function(datetime) {
        // DEBUG
        //console.log(datetime);
        
        
        var theDate = new Date(datetime); // new date from string

        return new Handlebars.SafeString(theDate.getDate() + '/' + (theDate.getMonth() + 1) + '/' + theDate.getFullYear());
            

        
    });
      
    </script>
      
      
        <script src="./js/jquery.sheetrock.min.js"></script> 
      
  </body>
</html>